<template>
  <div>
    <div class="content">
      <el-button class="rt_btn_2" @click="sendContract">发送合同</el-button>
      <!-- <el-button class="rt_btn_2" @click="saveClick">保存到草稿</el-button> -->
      <div class="t1">外籍人才推荐服务协议</div>
      <div class="t2 mt_40">甲方（委托方）：{{ signInfo.b_company_name }}</div>
      <div class="t2 mt_20">乙方（受托方）：凌晨四点（北京）科技有限公司</div>
      <div class="t3 mt_20">
        甲方根据岗位和招聘需要，委托乙方提供外籍人才寻访及推荐服务。双方本着自愿、平等、诚信、互利的原则，根据相关法律法规的规定，签订本合同以确定甲、乙双方的权利和义务，并共同遵守如下条款：
      </div>
      <div class="t2 mt_40">一、甲方权力和义务</div>
      <div class="t3 mt_20">
        1.甲方应提供给乙方准确、真实的企业信息及所招聘职位的详细信息，包括机构介绍、企业营业执照、办学许可资质、任职条件、薪资待遇、福利条件等信息。
      </div>
      <div class="t3 mt_20">
        2.在本合同有效期内，甲方可以随时发起委托。甲方应向乙方发送拟招聘的岗位需求，并有权利向乙方了解寻访工作进展。
      </div>
      <div class="t3 mt_20">
        3.甲方录用乙方被推荐人，应通知其报到日期、职位名称和薪资等内容。
      </div>
      <div class="t3 mt_20">
        4.甲方为乙方推荐的候选人成功签约则视为推荐成功，甲方须按本协议第三条相应条款支付相应服务费用。对乙方提供的被推荐人，甲方当时没有录用而在其被推荐后一年内录用的，甲方同意视此为乙方推荐成功，并向乙方一次性支付本合同规定的费用。
      </div>
      <div class="t3 mt_20">
        5.如果乙方提供的简历甲方已从其他渠道获取，甲方需在乙方提交候选人后的两个工作日内书面通知乙方。如在两个工作日内未通知乙方，则候选人的来源渠道是乙方。
      </div>
      <div class="t3 mt_20">
        6.甲方应对乙方所提供的人才，不做转换推荐，否则视为该被推荐人已被甲方录用。
      </div>
      <div class="t3 mt_20">
        7.甲方从乙方获知候选人个人信息(包括但不限于姓名、性别、电话、地址、电子邮箱地址，身份证号、社保账号等，以下称"个人信息")保密，应采取合理的管理手段、技术以及物理措施保障个人信息的机密性和安全性。甲方承诺个人信息将仅为履行本合同之目的而使用，未经乙方书面同意，不得贩卖、传播、披露给任何第三方。若甲方自行获得个人信息并披露给乙方的，甲方应保证这些信息均通过合理合法的手段收集和披露。当甲方违反本条导致任何第三方对乙方提出的赔偿、诉讼等主张的，甲方同意赔偿实际损失。
      </div>

      <div class="t2 mt_40">二、乙方权力和义务</div>
      <div class="t3 mt_20">
        1.乙方收到甲方岗位需求后，乙方应指定专门的顾问为甲方提供全程外籍人才推荐服务，双方确定具体岗位需求后，乙方开始为甲方进行寻找、筛选候选人、对接面试等工作。
      </div>
      <div class="t3 mt_20">
        2.乙方坚持审慎、客观专业的态度履行本协议项下的义务。
      </div>
      <div class="t3 mt_20">
        3.乙方必须对其在委托工作中所获知的甲方企业的商业秘密、技术资料、经营信息及甲方员工信息等承担保密义务，并不得在合同期内将甲方已经确认签约聘用的候选人信息再推荐给第三方。
      </div>
      <div class="t3 mt_20">
        4.乙方有权使用甲方名称、品牌LOGO等作为乙方业绩展示对外使用，但不得用于业务展示以外的其他商业用途。
      </div>
      <div class="t3 mt_20">5.乙方有权按照本协议约定收取服务费用。</div>

      <div class="t2 mt_40">三、服务费标准及支付方式</div>
      <div class="t3 mt_20">1.服务费标准如下：</div>
      <div class="t3 mt_20">服务费（母 语）：人民币16800元/人</div>
      <div class="t3 mt_20">服务费（非母语）：人民币12800元/人</div>

      <div class="t3 mt_20">
        本次服务费为人民币<input
          type="text"
          v-model="price"
          class="sign_input"
        />元
      </div>
      <div class="t3 mt_20">
        2.付款方式：甲方应在与被推荐人签署劳动、劳务或其他录用合同后<el-input
          type="text"
          v-model="day"
          class="sign_input"
        ></el-input
        ><span style="display: inline-block; margin-left: 20px">个</span
        >工作日内一次性支付服务费。乙方指定的收款账户信息如下：
      </div>
      <div class="t3 mt_20">开户名：凌晨四点（北京）科技有限公司</div>
      <div class="t3 mt_20">开户行：中国工商银行长安中海凯旋支行</div>
      <div class="t3 mt_20">银行账号：623271 0200001021120</div>
      <div class="t3 mt_20">
        3.违约处理：甲方未按合同约定向乙方支付服务费的，除不可抗力因素外，每迟延一天应向乙方支付应付未付金额5‰违约金。乙方累计催款超过三次甲方仍不履行付款职责的，乙方有权终止合作并要求甲方付清已产生的服务费用及累计的违约金。
      </div>

      <div class="t2 mt_40">四、合同期限</div>
      <div class="t3 mt_20">
        本合同有效期为1年，自双方签字盖章之日起生效。本合同到期前，双方经协商一致，可以书面形式续签。合同期限届满后，尚未完成的合同义务仍按本协议执行。
      </div>

      <div class="t2 mt_40">五、服务保证</div>
      <div class="t3 mt_20">
        1.乙方所推荐人的服务保证期为一个月，自被推荐人入职之日起计算。
      </div>
      <div class="t3 mt_20">
        2.在保证期内，由于被推荐人原因从甲方离职，甲方应在离职之日起十个工作日内以书面形式将其情况通知乙方，乙方负责一次免费重新推荐该岗位人才。
      </div>

      <div class="t2 mt_40">六、保密信息</div>
      <div class="t3 mt_20">
        1.本合同所称保密信息是指所有甲方以口头或书面形式披露给乙方的商业、技术信息，包括甲方招聘职位、薪酬、基本条件，乙方了解到的甲方员工的信息，以及本合同的内容等甲方的商业秘密。乙方保证对甲方的上述保密信息承担保密责任。除为了实现本合同目的外，未经甲方书面同意，乙方不得将保密信息以任何形式，部分或全部地披露给任何第三方。双方有责任为被推荐人保守其个人隐私（除应当透露的信息外）。
      </div>
      <div class="t3 mt_20">
        2.在本合同终止后，在本合同项下的保密义务并不随之终止，双方方仍需遵守本合同之保密条款，履行其所承诺的保密义务。
      </div>

      <div class="t2 mt_40">七、生效及终止</div>
      <div class="t3 mt_20">
        1.本合同自双方盖章之日起生效。如果本合同中的任何条款因违反法律或政府规定或因其他原因而完全或部分无效或不具有执行力，不影响本合同其他条款的法律效力。
      </div>
      <div class="t3 mt_20">
        2.本合同提前终止不影响此前双方因履行本合同而已经享有的权利和承担的义务，权利和义务包括但不限于：
      </div>
      <div class="t4 mt_20">
        a)如乙方已经按照合同规定执行了合作内容，甲方应按照合同规定的价格就已经执行的合作向乙方支付服务费；
      </div>
      <div class="t4 mt_20">
        b)如甲方按照合同规定已经支付的款项超过乙方已提供的合作服务对应折算的服务费，并且甲方没有任何违约行为的，乙方应当将超出部分退还给甲方；
      </div>
      <div class="t4 mt_20">c)违约方因其违约行为应承担的违约责任。</div>

      <div class="t2 mt_40">八、争议解决</div>
      <div class="t3 mt_20">
        1.在双方就本合同项中条款的解释和履行发生争议时，双方应以协商解决该争议。如协商不成，任何一方均可向北京市朝阳区人民法院提起诉讼。
      </div>
      <div class="t3 mt_20">
        2.本合同的订立、效力、执行和解释及争议的解决均以中华人民共和国大陆地区法律为准据法并排除冲突规范的适用。
      </div>

      <div class="t2 mt_40">九、其他</div>
      <div class="t3 mt_20">
        1.本合同中标题仅供参考之用，不影响本合同任何部分之涵义及解释。
      </div>
      <div class="t3 mt_20">
        2.本合同未尽事宜，经双方书面确认可对本合同做出修改或签订补充合同，双方签署的修改和补充合同是本合同的组成部分，具有与本合同同等的法律效力。
      </div>
      <div class="t3 mt_20">
        3.本合同一式两份，甲乙双方各执一份，两份具有同等法律效力。
      </div>
      <div class="t3 mt_20">（以下无正文）</div>

      <div class="t3 mt_20">甲 方：{{}}</div>
      <div class="t3 mt_20">盖 章：</div>
      <div class="t3 mt_20">日 期：</div>
      <div class="t3 mt_20">乙 方：凌晨四点（北京）科技有限公司</div>
      <div class="t3 mt_20">盖 章：</div>
      <div class="t3 mt_20">日 期：</div>
    </div>
    <el-dialog title="确认发送合同" :visible.sync="dialogVisible" width="400px">
      <el-checkbox-group v-model="checkList">
        <el-checkbox style="margin: 0 0 20px 0" label="1">
          <span>手机提醒</span>
          <el-input v-model="signInfo.b_phone" :disabled="true"> </el-input>
        </el-checkbox>
        <el-checkbox label="2">
          <span>平台提醒</span>
          <el-input v-model="signInfo.b_company_name" :disabled="true">
          </el-input>
        </el-checkbox>
      </el-checkbox-group>
      <div class="btn_wrapper">
        <el-button
          class="lside_btn"
          @click="sureSend"
          :disabled="checkList.length == 0"
          >确定发送</el-button
        >
        <el-button class="rside_btn" @click="dialogVisible = false"
          >再看看</el-button
        >
      </div>
    </el-dialog>
  </div>
</template>
<script>
import { Loading } from "element-ui";
export default {
  name: "signinfo4",
  data() {
    return {
      id: "",
      signInfo: {},
      price: "",
      dialogVisible: false,
      checkList: [],
      day: "",
      contract_data: {},
    };
  },
  created() {
    this.id = this.$route.query.id;
    this.getSignInfo();
  },
  computed: {},
  methods: {
    // 请求草稿箱
    async getSignInfo() {
      let res = await this.$fetch("sing_contracts/getSignDraft", {
        id: this.id,
      });
      if (res.code == 200) {
        this.signInfo = res.data;
      }
    },
    // 发送合同
    async sendContract() {
      if (
        this.price == "" ||
        this.price == null ||
        this.day == null ||
        this.day == ""
      ) {
        this.$message.error("请填写完整信息");
      } else {
        this.dialogVisible = true;
      }
    },
    // 保存草稿
   
    async saveClick() {
       this.contract_data = {
        money: this.price,
        day: this.day,
      };
      let res = await this.$post("/sing_contracts/sign", {
        id: this.id,
        type: 1,
        contract_data: JSON.stringify(this.contract_data),
      });
      if (res.code == 200) {
        this.$message.success("保存草稿成功");
      } else {
        this.$message.error(res.msg);
      }
    },
    // 确定发送
    async sureSend() {
      let loadingInstance = Loading.service({
        fullscreen: true,
      });
      this.contract_data = {
        money: this.price,
        day: this.day,
      };
      let res = await this.$post("/sing_contracts/sign", {
        id: this.id,
        type: 2,
        contract_data: JSON.stringify(this.contract_data),
        notice: this.checkList.toString(),
      });
      if (res.code == 200) {
        loadingInstance.close();
        this.$message.success("发送合同成功");
        this.$router.replace("/home/sign");
      } else {
        this.$message.error(res.msg);
        loadingInstance.close();
      }
    },
  },
};
</script>
<style scoped>
.content {
  padding: 40px;
  background: white;
  margin-top: 20px;
  width: 100%;
  margin: 20px auto 0 auto;
}

.t1 {
  font-size: 20px;
  font-weight: 500;
  color: #333333;
  text-align: center;
}

.t2 {
  font-size: 16px;
  font-family: PingFangSC-Regular, PingFang SC;
  font-weight: 600;
  color: #333333;
}

.t3 {
  font-size: 16px;
  font-weight: 400;
  color: #333333;
  line-height: 22px;
  text-indent: 2em;
}

.mt_20 {
  margin-top: 20px;
}

.mt_40 {
  margin-top: 40px;
}

.check {
  display: block;
  font-size: 16px;
  font-family: PingFangSC-Regular, PingFang SC;
  font-weight: 400;
  color: #333333;
  line-height: 22px;
  margin-top: 5px;
  margin-left: 2em;
}

.rt_btn_1 {
  font-size: 14px;
  font-weight: 400;
  color: #ffffff;
  width: 144px;
  height: 32px;
  background: #078ca9;
  padding: 0;
  position: absolute;
  right: 140px;
  top: 72px;
}

.rt_btn_2 {
  width: 70px;
  height: 22px;
  font-size: 14px;
  font-weight: 400;
  color: #ffffff;
  width: 102px;
  height: 32px;
  background: #078ca9;
  border: 1px solid #dddddd;
  padding: 0;
  position: absolute;
  right: 20px;
  top: 72px;
}

.l_btn {
  width: 88px;
  height: 32px;
  background: #078ca9;
  font-size: 14px;
  font-weight: 400;
  color: #ffffff;
  padding: 0;
}

.r_btn {
  width: 74px;
  height: 32px;
  background: #fafafa;
  border: 1px solid #dddddd;
  font-size: 14px;
  font-weight: 400;
  color: #333333;
  padding: 0;
  margin-left: 20px;
}

.right {
  font-size: 14px;
  width: 15px;
  height: 15px;
  line-height: 17px;
  border: 1px solid black;
  text-align: center;
  border-radius: 3px;
  display: inline-block;
}

table {
  border-collapse: collapse;
}

table th {
  width: 120px;
}

table tr td {
  text-align: center;
}
.sign_input {
  padding: 0 15px;
  margin: 0 20px;
  width: 20%;
  height: 30px;
}
.rt_btn_1 {
  font-size: 14px;
  font-weight: 400;
  color: #ffffff;
  width: 144px;
  height: 32px;
  background: #078ca9;
  padding: 0;
  position: absolute;
  right: 140px;
  top: 72px;
}

.rt_btn_2 {
  width: 70px;
  height: 22px;
  font-size: 14px;
  font-weight: 400;
  color: #333333;
  width: 102px;
  height: 32px;
  background: #fafafa;
  border: 1px solid #dddddd;
  padding: 0;
  position: absolute;
  right: 20px;
  top: 72px;
}
.lside_title {
  display: inline-block;
  margin-right: 10px;
  width: 150px;
}
.btn_wrapper {
  display: flex;
  margin-top: 20px;
  justify-content: center;
}
.btn_wrapper .lside_btn {
  background: #078ca9;
  color: #fff;
  font-size: 14px;
  font-weight: 400;
}
.btn_wrapper .rside_btn {
  background: #fafafa;
  border: 1px solid #ddd;
  color: #333;
  margin-left: 20px;
  font-size: 14px;
  font-weight: 400;
}
</style>
